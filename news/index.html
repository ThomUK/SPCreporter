<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • SPCreporter</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SPCreporter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-report-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Report Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-report-examples"><li><a class="dropdown-item" href="../report_examples/My_Example_Report.html">HTML report</a></li>
    <li><a class="dropdown-item" href="../report_examples/My_Example_Report.pdf">PDF report</a></li>
    <li><a class="dropdown-item" href="../report_examples/My_Example_Report_data.csv">CSV output</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/get_started.html">Get Started</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_reports.html">Creating multiple reports</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ThomUK/SPCreporter/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ThomUK/SPCreporter/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.9000" id="spcreporter-0209000">SPCreporter 0.2.0.9000<a class="anchor" aria-label="anchor" href="#spcreporter-0209000"></a></h2>
<div class="section level3">
<h3 id="feature-addition-0-2-0-9000">Feature addition<a class="anchor" aria-label="anchor" href="#feature-addition-0-2-0-9000"></a></h3>
</div>
<div class="section level3">
<h3 id="useability-0-2-0-9000">Useability<a class="anchor" aria-label="anchor" href="#useability-0-2-0-9000"></a></h3>
</div>
<div class="section level3">
<h3 id="bugfix-0-2-0-9000">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-2-0-9000"></a></h3>
<ul><li>The report now respects the <code>include_dq_icon</code> argument to <code>spcr_make_report</code>. When set to <code>FALSE</code>, the icons are removed from both the individual metric summary rows, and from the key at the bottom of the report.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="spcreporter-020">SPCreporter 0.2.0<a class="anchor" aria-label="anchor" href="#spcreporter-020"></a></h2>
<div class="section level3">
<h3 id="feature-addition-0-2-0">Feature addition<a class="anchor" aria-label="anchor" href="#feature-addition-0-2-0"></a></h3>
<ul><li>
<strong>BREAKING CHANGE</strong> - Added the ability to create rare-event charts of type “T” (time-between).</li>
<li>The report is now mobile friendly, and works on very narrow screens. The breakpoint from wide to narrow layout is 768px.</li>
<li>The ability to add commentary was added previously, but now the method is demonstrated in the example config docs.</li>
<li>Added explanation of the data-quality icons to the footer of the report.</li>
<li>Added the ability to output “.pdf” reports, which include tidy page-breaks.</li>
</ul></div>
<div class="section level3">
<h3 id="useability-0-2-0">Useability<a class="anchor" aria-label="anchor" href="#useability-0-2-0"></a></h3>
<ul><li>Added the optional columns to the example excel config documents, to aid onboarding for new users.</li>
<li>
<strong>BREAKING CHANGE</strong> - The argument <code>export_csv</code> to <code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code> has been disused and replaced with <code>output_type</code> which is now a vector of the required output types. Current valid options are “html”, “pdf”, and “csv”. This method will allow addition of more report types in future.</li>
<li>File size reduced by approx 30% by handling plot resolution differently, and by a further 0.6MB by removing javascript, css, and font files bundled as part of RMarkdown. As a result of the latter change the template behaves less like standard Rmd and is more reliant on custom CSS, but as it is rarely edited the file size reduction is worth this trade-off.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfix-0-2-0">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-2-0"></a></h3>
<ul><li>All spaces in the report name are now replaced with underscores. Previously only the first space was replaced.<br></li>
<li>The CSV output now respects the <code>output_directory</code> argument. Previously this file was saved in the working directory regardless of the output_directory argument.</li>
</ul></div>
<div class="section level3">
<h3 id="details-of-breaking-changes-0-2-0">Details of breaking changes<a class="anchor" aria-label="anchor" href="#details-of-breaking-changes-0-2-0"></a></h3>
<p>Associated with the addition of rare-event charts: * The <code>report_config</code> now includes a mandatory column <code>spc_chart_type</code>. Valid values in this column are “xmr” or “t”.<br>
* The <code>measure_data</code> now includes a mandatory list item (or excel worksheet) called “events”. * The <code>data_cutoff_dttm</code> argument has been moved from <code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code> to <code><a href="../reference/spcr_make_data_bundle.html">spcr_make_data_bundle()</a></code> to support the calculation of the final plotted point, which is placed to illustrate what would happen were an event to happen on this date.</p>
<p>Associated with the addition of pdf and csv output types: * The the argument <code>export_csv</code> to <code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code> has been disused and replaced with <code>output_type</code>.</p>
<hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.6" id="spcreporter-016">SPCreporter 0.1.6<a class="anchor" aria-label="anchor" href="#spcreporter-016"></a></h2>
<div class="section level3">
<h3 id="feature-addition-0-1-6">Feature addition<a class="anchor" aria-label="anchor" href="#feature-addition-0-1-6"></a></h3>
<ul><li>There is a new argument “annotate_limits” available for <code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code>. By default it is <code>TRUE</code>, and adds labels for the numeric values of the control limits and mean to the right of the plot.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfix-0-1-6">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-1-6"></a></h3>
<ul><li>Fixed a bug which caused status messages to be printed in the main report if report generation is done on a slow computer.</li>
<li>Fixed minor README argument name mistake, which would have thrown an error for new users.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5.6" id="spcreporter-0156">SPCreporter 0.1.5.6<a class="anchor" aria-label="anchor" href="#spcreporter-0156"></a></h2>
<p>This version introduces a large number of changes to the package. Some additional tests have been written, and existing tests amended to match the latest versions of functions.</p>
<div class="section level3">
<h3 id="bug-fixes-0-1-5-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1-5-6"></a></h3>
<ul><li>The <code>align_rebase_dates()</code> function now ensures that rebase dates not matching up with a data point are still observed and included in charts. This is achieved by moving the rebase date to the nearest data point following the rebase date. This should fix issue <a href="https://github.com/ThomUK/SPCreporter/issues/35" class="external-link">#35</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="bundle-creation-0-1-5-6">Bundle creation<a class="anchor" aria-label="anchor" href="#bundle-creation-0-1-5-6"></a></h3>
<ul><li>The data bundle creation process now uses a more streamlined pipeline. This aims to make the various data preparation steps easier to follow and debug.</li>
<li>The data bundle generated by <code><a href="../reference/spcr_make_data_bundle.html">spcr_make_data_bundle()</a></code> is less comprehensive than in previous versions, omitting SPC chart data and focusing on providing human-readable source data for <code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="report-creation-0-1-5-6">Report creation<a class="anchor" aria-label="anchor" href="#report-creation-0-1-5-6"></a></h3>
<ul><li>SPC data parcel creation and SPC chart creation are now handled within <code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code> rather than being part of the data bundle.</li>
<li>Chart generation in the report is now based around an RMarkdown partial template (inst/Rmd/details_template.Rmd) which is mapped over by code within the main RMarkdown report template. This replaces the {htmltools} approach used in previous versions.</li>
<li>Chart PNGs are now created as temp files and then converted to URI strings using <code><a href="https://rdrr.io/pkg/knitr/man/image_uri.html" class="external-link">knitr::image_uri()</a></code>. These are injected into the HTML code directly, instead of using hyperlinks to PNG files.</li>
<li>The report now gets a custom title (it can be set in the <code>document_title</code> field) that is used for the <code>&lt;title&gt;</code> tag in the HTML output. This is then shown as the document title in a browser tab.</li>
<li>The <code>export_csv</code> argument to <code>spcr_make_report</code> now allows easy creation of a CSV file of the source data for the report, with the same timestamp as the HTML file. This addresses issue <a href="https://github.com/ThomUK/SPCreporter/issues/17" class="external-link">#17</a>.</li>
<li>The report no longer auto-opens in the browser, nor plays a beep, when the creation process is complete. This behaviour could easily be restored if desired.</li>
</ul></div>
<div class="section level3">
<h3 id="package-structure-and-function-naming-0-1-5-6">Package structure and function naming<a class="anchor" aria-label="anchor" href="#package-structure-and-function-naming-0-1-5-6"></a></h3>
<ul><li>Only the main user-facing functions now have the <code>spcr_</code> prefix. Other package functions are collected into two files, <code>checking_functions</code> and <code>helper_functions</code>.</li>
<li>Several functions have been removed, being replaced or made obsolete by steps in the new bundle generation process.</li>
</ul></div>
<div class="section level3">
<h3 id="example-data-0-1-5-6">Example data<a class="anchor" aria-label="anchor" href="#example-data-0-1-5-6"></a></h3>
<ul><li>Example data already supplied with the package (as xlsx files in the <code>inst</code> folder) is now also available as internal package data, which can be used as example data for demonstrating package functions and also for facilitating testing.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5" id="spcreporter-015">SPCreporter 0.1.5<a class="anchor" aria-label="anchor" href="#spcreporter-015"></a></h2>
<div class="section level3">
<h3 id="feature-addition-0-1-5">Feature addition<a class="anchor" aria-label="anchor" href="#feature-addition-0-1-5"></a></h3>
<ul><li><p>Rebasing of SPC charts is now supported. Pass in a date string in “YYYY-MM-DD” format, or multiple date strings. <code>'"2020-01-01"'</code>, or <code>'"2020-01-01", "2021-05-01"'</code></p></li>
<li><p>Stale data is now highlighted in the report. By default data is highlighted as stale if the report cutoff is after the data update date (as defined by the <code>updated_to</code> argument for the data, and the <code>data_cutoff_dttm</code> for the report). Optionally, a column called <code>allowable_days_lag</code> can be included in the measure_config. This can be used to delay the flagging of stale data. For example using a value of 31 in the <code>allowable_days_lag</code> column will enable a measure to be reported a month in arrears without being flagged as stale.</p></li>
</ul></div>
<div class="section level3">
<h3 id="useability-0-1-5">Useability<a class="anchor" aria-label="anchor" href="#useability-0-1-5"></a></h3>
<ul><li>Fixes an issue where if there are mismatches in measure_name across any of the 3 supplied dataframes (measure_data, report_config, measure_config) the error message throw reported missing data. <code>Error: spcr_check_dataset_is_complete: Data is missing for 1 report items. The first is ref 1, M1, monthly.</code> The correct and more helpful error in this case is to complain of the name mismatch: <code>Error: spcr_check_measure_names: There is a name mismatch for measure ref: 1. Check for typos or mismatching refs or data.</code>
</li>
<li>Improved progress messages during <code><a href="../reference/spcr_make_data_bundle.html">spcr_make_data_bundle()</a></code> to support debugging of incoming data.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfix-0-1-5">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-1-5"></a></h3>
<ul><li>Fix a bug relating to NAs in the dataset which was causing printed warnings in the final report, as well as blank space in the charts. The new behaviour strips NAs from all data, meaning that the chart axis starts at the first data point, and ends at the last.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4" id="spcreporter-014">SPCreporter 0.1.4<a class="anchor" aria-label="anchor" href="#spcreporter-014"></a></h2>
<div class="section level3">
<h3 id="feature-addition-0-1-4">Feature addition<a class="anchor" aria-label="anchor" href="#feature-addition-0-1-4"></a></h3>
<ul><li>Add two new optional columns to the measure_config: “Reviewed At”, and “Escalated To”. If present the text in these fields is rendered into the final report below each chart.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfix-0-1-4">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-1-4"></a></h3>
<ul><li>Fixed an error caused when measure_data contained NAs. The package will now tolerate NAs in the data.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.3" id="spcreporter-013">SPCreporter 0.1.3<a class="anchor" aria-label="anchor" href="#spcreporter-013"></a></h2>
<div class="section level3">
<h3 id="useability-improvements-0-1-3">Useability improvements<a class="anchor" aria-label="anchor" href="#useability-improvements-0-1-3"></a></h3>
<ul><li>Significant improvements to error messages relating to measure_data, report_config, and measure_config. Error messages now explicitly name any required columns which the user has not supplied. This is intended to make troubleshooting simpler to do.</li>
<li>The data source for metrics is now named in charts as a caption.</li>
<li>Other minor useability improvements intended to make working with real-world config documents easier to do.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="spcreporter-012">SPCreporter 0.1.2<a class="anchor" aria-label="anchor" href="#spcreporter-012"></a></h2>
<div class="section level3">
<h3 id="useability-improvements-0-1-2">Useability improvements<a class="anchor" aria-label="anchor" href="#useability-improvements-0-1-2"></a></h3>
<ul><li>
<code>measure_data</code> requires data for only one (or more) of “week” or “month”.</li>
<li>
<code>measure_data</code> tolerates capitalised list (worksheet) names.</li>
<li>Use the base pipe |&gt; in place of %&gt;%.</li>
<li>Throw a helpful error if insufficient data items have been provided for a given report.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="spcreporter-011">SPCreporter 0.1.1<a class="anchor" aria-label="anchor" href="#spcreporter-011"></a></h2>
<div class="section level3">
<h3 id="bugfix-0-1-1">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-1-1"></a></h3>
<ul><li>Fixes an error occurring when targets are not set for any of the reported measures</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="spcreporter-010">SPCreporter 0.1.0<a class="anchor" aria-label="anchor" href="#spcreporter-010"></a></h2>
<div class="section level3">
<h3 id="initial-release-0-1-0">Initial Release<a class="anchor" aria-label="anchor" href="#initial-release-0-1-0"></a></h3>
<ul><li><code><a href="../reference/spcr_make_data_bundle.html">spcr_make_data_bundle()</a></code></li>
<li><code><a href="../reference/spcr_make_report.html">spcr_make_report()</a></code></li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tom Smith, Fran Barton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

